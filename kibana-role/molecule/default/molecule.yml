---
dependency:
  name: galaxy
driver:
  name: docker
platforms:
  - name: elastic_ubuntu
    image: docker.io/pycontribs/ubuntu:latest
    pre_build_image: true
    groups:
      - elasticsearch
    exposed_ports:
      - 9200
    published_ports:
      - 0.0.0.0:9200:9200
    networks:
      - name: elk
#  - name: kibana_centos7
#    image: docker.io/pycontribs/centos:7
#    pre_build_image: true
#    groups:
#      - kibana
  - name: kibana_ubuntu
    image: docker.io/pycontribs/ubuntu:latest
    pre_build_image: true
    exposed_ports:
      - 5601
    published_ports:
      - 0.0.0.0:5601:5601
    networks:
      - name: elk
    groups:
      - kibana
provisioner:
  name: ansible
verifier:
  name: ansible
scenario:
  test_sequence:
    - destroy
    - create
    - converge
